{% extends "base.html" %}
{% block title %}ORM Chits{% endblock %}
{% block content %}

<h1>Welcome to the ORM module, {{ cMid.fName }} {{ cMid.LName }}.</h1>

<h3>Enter an ORM Chit:</h3>

<form action="addLeisure" method="post">
{% csrf_token %}
		<table border="1" cellpadding="1" cellspacing="0" style="width: 800px; " summary="ORM Safety Worksheet">
			<caption>
				ORM CHIT</caption>
			<tbody>
				<tr>
					<td>
						<strong>Name:</strong></td>
					<td colspan="2">
						&nbsp;</td>
					<td colspan="2">
						<strong>Leave Address:</strong></td>
				</tr>
				<tr>
					<td>
						<strong>Date of Departure:</strong></td>
					<td>
						<input type = "text" class="datepicker" 
						id="departDate" readonly="readonly" name = "dateDepart"/></td>
					<td style="background-color: rgb(204, 204, 204); ">
						&nbsp;</td>
					<td rowspan="2">
						Street</td>
					<td>
						<input type = "text" name = "street1" /></td>
				</tr>
                <tr>
					<td>
						<strong>Date of Return:</strong></td>
					<td>
						<input type = "text" class="datepicker" 
						id="returnDate" readonly="readonly" 
						onchange="dateDiff();" name = "dateReturn"/></td>
					<td style="background-color: rgb(204, 204, 204); ">
						&nbsp;</td>
					<td>
						<input type = "text" name = "street2" /></td>
				</tr>
				<tr>
					<td>
						<strong>Total Days of Leave:</strong></td>
					<td>
						<input type="text" readonly="readonly" id="daysLeave" /></td>
					<td style="background-color: rgb(204, 204, 204); ">
						&nbsp;</td>
					<td>
						City</td>
					<td>
						<input type = "text" name = "city" /></td>
				</tr>
				<tr>
					<td>
						<strong>Total Days of Travel:</strong></td>
					<td>
						<input type = "text" name = "daysTravel"/></td>
					<td style="background-color: rgb(204, 204, 204); ">
						&nbsp;</td>
					<td>
						State</td>
					<td>
						<input type = "text" name = "state" /></td>
				</tr>
				<tr>
					<td>
						<strong>Travel Ratio:</strong></td>
					<td>
						&nbsp;</td>
					<td style="background-color: rgb(204, 204, 204); ">
						&nbsp;</td>
					<td>
						Zip</td>
					<td>
						<input type = "text" name = "zip" /></td>
				</tr>
				<tr>
					<td colspan="4" rowspan="1">
						Travel Ratio should be less than 1/3 of your total leave period</td>
					<td>
						&nbsp;</td>
				</tr>
			</tbody>
		</table>
    <br /><br /><input type="submit" value="Add Leisure Activities" />
</form>

<h3>Past ORM Chits: </h3>
<table>
{% for p in lChits %}
    <tr>
        <form action="ormView" method = "post">
        {% csrf_token %}
        <td>{{ p.dateDepart }}</td>
        <td>{{ p.dateReturn }}</td>
        <td>{% if p.approvalStatus == 0 %}APPROVED
            {%else%}
                {% if p.approvalStatus == -1 %}DENIED{%endif%}
                {% if p.approvalStatus > 0 %}PENDING{%endif%}
            {%endif%}
        </td>
            <td><input type = "hidden" name = "id" value = "{{ p.id }}" />
                <input type = "submit" value = "View Chit" /></td>
        </form>
    </tr>
{% empty %}
    <tr><td>You have not submitted any ORM Chits.</td></tr>
{% endfor %}
</table>

{% endblock %}